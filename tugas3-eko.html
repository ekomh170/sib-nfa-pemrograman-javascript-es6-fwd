<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Tugas Pertemuan 3 - Manajemen Produk Toko</title>
  <style>
    /* Body: font, margin, dan background halaman */
    body { font-family: Arial, sans-serif; margin:20px; background:#f8fafc; }
    /* Judul halaman */
    h2 { margin-bottom:10px; color:#0f172a; }
    /* Kotak identitas mahasiswa */
    .identitas {
      background:#0ea5e9; color:#fff; padding:15px;
      border-radius:10px; margin-bottom:20px;
    }
    /* Baris identitas */
    .identitas span { display:block; margin:2px 0; }
    /* Tabel produk */
    table { width:100%; border-collapse:collapse; background:#fff; margin-top:15px; }
    /* Sel tabel */
    th, td { border:1px solid #ddd; padding:8px; }
    /* Header tabel */
    th { background:#0ea5e9; color:#fff; }
    /* Kolom angka rata kanan */
    .num { text-align:right; }
    /* Baris kosong jika produk habis */
    .empty { text-align:center; padding:10px; color:#64748b; }
    /* Tombol umum */
    button { padding:6px 10px; border:none; border-radius:6px; cursor:pointer; }
    /* Tombol hapus */
    button.danger { background:#ef4444; color:#fff; }
    /* Tombol tambah */
    button.add { background:#0ea5e9; color:#fff; }
  </style>
</head>
<body>

  <!-- Identitas Mahasiswa -->
  <div class="identitas">
    <b>Identitas Mahasiswa</b>
    <span>NIM: 0110223079</span>
    <span>Nama: Eko Muchamad Haryono</span>
    <span>Aktivitas: SIB Fullstack Web Developer (NFA)</span>
    <span>Topik: Pemrograman JavaScript ES6</span>
    <span>Group: 2</span>
    <span>Ruangan: Zoom Mentoring Kelompok 02 Fullstack Web Developer - Gedung NF Academy Training Center</span>
    <span>Prodi & Peminatan: Teknik Informatika - Software Engineering</span>
    <span>Semester: 5</span>
  </div>

  <h2>Manajemen Produk Toko</h2>

  <!-- Form Tambah Produk -->
  <input id="nama" type="text" placeholder="Nama Produk">
  <input id="harga" type="number" placeholder="Harga (Rp)">
  <input id="stok" type="number" placeholder="Stok">
  <button class="add" onclick="tambahProduk()">Tambah Produk</button>

  <!-- Tabel Produk -->
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Nama</th>
        <th class="num">Harga</th>
        <th class="num">Stok</th>
        <th>Aksi</th>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
  </table>

  <script>
    // ===== Array Produk Toko =====
    // Array berisi objek produk dengan id, nama, harga, dan stok
    let produkToko = [
      {id: 1, nama: "Laptop", harga: 7000000, stok: 5},
      {id: 2, nama: "Mouse", harga: 200000, stok: 10},
      {id: 3, nama: "Keyboard", harga: 350000, stok: 7}
    ];

    // Fungsi util untuk format angka ke rupiah
    function formatRupiah(n) {
      return new Intl.NumberFormat("id-ID", {style:"currency", currency:"IDR", maximumFractionDigits:0}).format(n);
    }

    // ===== Fungsi tampilkanProduk() =====
    // Menampilkan isi array produk ke tabel
    function tampilkanProduk() {
      let tbody = document.getElementById("tbody");
      tbody.innerHTML = "";
      if(produkToko.length === 0){
        tbody.innerHTML = "<tr><td colspan='5' class='empty'>Belum ada produk</td></tr>";
      } else {
        for(let i=0; i<produkToko.length; i++){
          let p = produkToko[i];
          tbody.innerHTML += `
            <tr>
              <td>${p.id}</td>
              <td>${p.nama}</td>
              <td class="num">${formatRupiah(p.harga)}</td>
              <td class="num">${p.stok}</td>
              <td><button class="danger" onclick="hapusProduk(${p.id})">Hapus</button></td>
            </tr>`;
        }
      }
    }

    // ===== Fungsi tambahProduk() =====
    // Menambahkan produk baru ke array produkToko
    function tambahProduk(){
      let nama = document.getElementById("nama").value.trim();
      let harga = Number(document.getElementById("harga").value);
      let stok = Number(document.getElementById("stok").value);
      if(!nama || !harga || !stok){
        alert("Nama, harga, dan stok wajib diisi!");
        return;
      }
      let idBaru = produkToko.length ? produkToko[produkToko.length-1].id+1 : 1;
      produkToko.push({id:idBaru, nama:nama, harga:harga, stok:stok});
      tampilkanProduk();
      document.getElementById("nama").value="";
      document.getElementById("harga").value="";
      document.getElementById("stok").value="";
    }

    // ===== Fungsi hapusProduk(id) =====
    // Menghapus produk berdasarkan id
    function hapusProduk(id){
      for(let i=0; i<produkToko.length; i++){
        if(produkToko[i].id === id){
          produkToko.splice(i,1);
          break;
        }
      }
      tampilkanProduk();
    }

    // Panggil fungsi tampilkanProduk saat pertama kali load
    tampilkanProduk();
  </script>

</body>
</html>
