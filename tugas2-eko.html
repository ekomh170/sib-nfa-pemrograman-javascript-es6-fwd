<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Tugas 2 - Data Pegawai</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!--
    Bagian CSS: Mengatur tampilan identitas, tabel, dan elemen lain agar lebih rapi dan modern
  -->
  <style>
    :root { font-family: system-ui, Arial, sans-serif; }
    body { margin: 24px; }
  /* Kotak identitas mahasiswa */
  .identitas {
      background: #f1f5f9;
      border-radius: 8px;
      padding: 18px 24px 14px 24px;
      margin-bottom: 28px;
      box-shadow: 0 2px 8px 0 #e2e8f0;
      max-width: 480px;
    }
    .identitas b {
      font-size: 16px;
      color: #0ea5e9;
      letter-spacing: 1px;
      display: block;
      margin-bottom: 8px;
    }
    .identitas span {
      display: block;
      margin-bottom: 2px;
      font-size: 15px;
      color: #334155;
    }
  /* Judul halaman */
  h1 { margin: 0 0 12px; font-size: 20px; }
  /* Tabel data pegawai */
  table { width: 100%; border-collapse: collapse; }
  /* Header tabel */
  thead th { background:#0ea5e9; color:#fff; padding:10px; text-align:left; }
  /* Isi tabel */
  tbody td { padding:10px; border-bottom:1px solid #e5e7eb; }
  /* Footer tabel */
  tfoot th, tfoot td { padding:12px 10px; background:#f1f5f9; font-weight:700; }
  /* Kolom angka rata kanan */
  .num { text-align:right; white-space:nowrap; }
  /* Label jabatan dan status */
  .tag { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; background:#e2e8f0; }
  /* Caption tabel */
  caption { caption-side: bottom; font-size: 12px; color: #64748b; padding-top: 8px; }
  </style>
</head>
<body>
  <!--
    Bagian HTML: Menampilkan identitas mahasiswa dan tabel data pegawai
  -->
  <div class="identitas">
    <b>Identitas Mahasiswa</b>
    <span>NIM: 0110223079</span>
    <span>Nama: Eko Muchamad Haryono</span>
    <span>Aktivitas: SIB Fullstack Web Developer (NFA)</span>
    <span>Topik: Pemrograman JavaScript ES6</span>
    <span>Group: 2</span>
    <span>Ruangan: Zoom Mentoring Kelompok 02 Fullstack Web Developer - Gedung NF Academy Training Center</span>
    <span>Prodi & Peminatan: Teknik Informatika - Software Engineering</span>
    <span>Semester: 5</span>
  </div>
  <h1>Data Pegawai</h1>

  <table>
    <thead>
      <tr>
        <th>Nama Pegawai</th>
        <th>Umur</th>
        <th>Jabatan</th>
        <th>Status</th>
        <th class="num">Gaji Pokok</th>
        <th class="num">Tunjangan Jabatan (15%)</th>
        <th class="num">BPJS (10%)</th>
        <th class="num">Tunjangan Keluarga (20% bila menikah)</th>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
    <tfoot>
      <tr>
        <th colspan="7">Total Gaji (Gapok + Tunj. Jabatan + BPJS + Tunj. Keluarga)</th>
        <td id="totalGaji" class="num"></td>
      </tr>
    </tfoot>
    <caption>Tugas 2 - Javascript â€¢ Pertemuan 2</caption>
  </table>

  <script>
    // Data pegawai diketahui dari soal
    // Objek pegawai berisi nama, umur, jabatan, dan status
    const pegawai = {
      nama: "Dodi Prayodi",
      umur: 25,
      jabatan: "manajer",
      status: "menikah"
    };

    // Fungsi utilitas untuk format angka ke rupiah
    // Menggunakan Intl.NumberFormat agar hasil sesuai format IDR
    const rupiah = (n) => new Intl.NumberFormat("id-ID", { style: "currency", currency: "IDR", maximumFractionDigits: 0 }).format(n);

    // Hitung gaji pokok berdasarkan jabatan pegawai
    // Manajer: 15jt, Asisten Manajer: 10jt, Staff: 5jt
    let gapok = 0;
    const jbt = pegawai.jabatan.toLowerCase();
    if (jbt === "manajer") {
      gapok = 15000000;
    } else if (jbt === "asisten manajer") {
      gapok = 10000000;
    } else if (jbt === "staff" || jbt === "staf") {
      gapok = 5000000;
    } else {
      gapok = 0; // Jabatan tidak dikenali
    }

    // Hitung komponen gaji lainnya
    // Tunjangan jabatan 15% dari gapok
    const tunjJabatan = 0.15 * gapok;
    // BPJS 10% dari gapok
    const bpjs = 0.10 * gapok;

    // Tunjangan keluarga 20% dari gapok jika menikah, jika tidak maka 0
    // Menggunakan operator ternary
    const tunjKeluarga = (pegawai.status.toLowerCase() === "menikah") ? 0.20 * gapok : 0;

    // Hitung total gaji
    const total = gapok + tunjJabatan + bpjs + tunjKeluarga;

    // Render isi tabel (tbody) dengan data pegawai dan komponen gaji
    const tbody = document.getElementById("tbody");
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${pegawai.nama}</td>
      <td>${pegawai.umur} tahun</td>
      <td><span class="tag">${pegawai.jabatan}</span></td>
      <td><span class="tag">${pegawai.status}</span></td>
      <td class="num">${rupiah(gapok)}</td>
      <td class="num">${rupiah(tunjJabatan)}</td>
      <td class="num">${rupiah(bpjs)}</td>
      <td class="num">${rupiah(tunjKeluarga)}</td>
    `;
    tbody.appendChild(tr);

    // Render total gaji ke bagian tfoot
    document.getElementById("totalGaji").textContent = rupiah(total);
  </script>
</body>
</html>

